-- 특정 날짜에 대여 중인 같은 car_id가 하나라도 있으면 대여 중을 출력하고, 그렇지 않다면 대여가능을 출력한다

SELECT car_id, if(sum(if('2022-10-16' between start_date and end_date, 1, 0))>0, '대여중', '대여 가능') as AVAILABILITY
from CAR_RENTAL_COMPANY_RENTAL_HISTORY 
group by car_id

-- 쿼리 처리 순서가 group by 다음이 select이라는 것을 잊지 말자

-- FROM : 조회 테이블 확인 ...
-- WHERE : 데이터 추출 조건 확인 ...
-- GROUP BY : 컬럼 그룹화 ...
-- HAVING : 그룹화 조건 확인 ...
-- SELECT : 데이터 추출 ...
-- ORDER BY : 데이터 순서 정렬